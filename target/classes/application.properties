# ===== CONFIGURACIÓN BÁSICA =====
server.port=${PORT:8080}
spring.application.name=procesador-pdi

# ===== POSTGRESQL DATABASE =====
# IMPORTANTE: Usa jdbc:postgresql:// (no postgresql://)
spring.datasource.url=${DATABASE_URL:jdbc:h2:mem:testdb}
spring.datasource.username=${DB_USER:sa}
spring.datasource.password=${DB_PASSWORD:}
spring.datasource.driver-class-name=org.postgresql.Driver

# ===== JPA/HIBERNATE =====
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect

# ===== DESHABILITAR H2 =====
spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration

# ===== DATADOG =====
management.datadog.metrics.export.enabled=true
management.datadog.metrics.export.api-key=63fc749a6e650220161320fca53054ac
management.datadog.metrics.export.uri=https://api.datadoghq.com
management.datadog.metrics.export.step=10s

# ===== ACTUATOR =====
management.endpoints.web.exposure.include=health,info,metrics

# ===== APIs EXTERNAS =====
external.ocr.apikey=${OCR_API_KEY:}
external.labeling.apikey=${LABELING_API_KEY:}

# ===== URLs DE SERVICIOS =====
services.fuentes.url=${FUENTES_URL:http://localhost:8081}
services.solicitudes.url=${SOLICITUDES_URL:http://localhost:8082}
services.agregador.url=${AGREGADOR_URL:http://localhost:8083}

# ===== Telegram =====
telegram.bot.token=${TELEGRAM_BOT_TOKEN}
telegram.bot.username=${TELEGRAM_BOT_USERNAME}

telegram.webhook.url=https://dise-o2a.onrender.com